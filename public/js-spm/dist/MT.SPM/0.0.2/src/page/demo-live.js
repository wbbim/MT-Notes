define("MT.SPM/0.0.2/src/page/demo-live",[],function(e,t){var o=function(){var t=e("MT.SPM/0.0.2/src/page/public");t.init(),console.log("Live Page");var o=e("MT.SPM/0.0.2/src/components/html5-player").create($(".video-section"),$(".video-section video"),document.getElementById("html5-video"),{display:{volumeControl:!1},control:{progress:!1,volume:!1}});o.init(),o.resume();var n=e("MT.SPM/0.0.2/src/components/update-browser").create("",!1);n.init()};t.init=o}),define("MT.SPM/0.0.2/src/page/public",[],function(e,t){t.init=function(){var t=e("MT.SPM/0.0.2/src/components/update-browser").create("",!1);t.init();var o=e("MT.SPM/0.0.2/src/components/toggle-nav").create($(".nav-ul-toggle a"),$(".nav-ul"));o.init()}}),define("MT.SPM/0.0.2/src/components/update-browser",[],function(e,t){var o={create:function(e,t){var o={},n={};n.options=e||{},n.options.versionRequied={i:10,f:23,o:12,s:6.2,n:12,c:28},n.options.versionDefault={i:9,f:23,o:12,s:6.2,n:12,c:28},n.options.versionMinimal={i:9,f:23,o:12,s:6.2,n:12,c:28},n.options.version=e.version||n.options.versionDefault;{var i;window.navigator}return o.init=function(){for(i in n.options.versionRequied)n.options.version[i]>=n.options.versionRequied[i]&&(n.options.version[i]=n.options.version[i]-.2),n.options.version[i]||(n.options.version[i]=n.options.versionDefault[i]),n.options.version[i]<n.options.versionMinimal[i]&&(n.options.version[i]=n.options.versionMinimal[i]);n.options.test=t||e.test||!1,"#test-bu"==window.location.hash&&(n.options.test=!0)},o.getBrowser=function(){var e,t,o=navigator.userAgent,n={i:"Internet Explorer",f:"Firefox",o:"Opera",s:"Apple Safari",n:"Netscape Navigator",c:"Chrome",x:"Other"};if(/bot|googlebot|facebook|slurp|wii|silk|blackberry|mediapartners|adsbot|silk|android|phone|bingbot|google web preview|like firefox|chromeframe|seamonkey|opera mini|min|meego|netfront|moblin|maemo|arora|camino|flot|k-meleon|fennec|kazehakase|galeon|android|mobile|iphone|ipod|ipad|epiphany|rekonq|symbian|webos/i.test(o))e="x";else if(/Trident.*rv:(\d+\.\d+)/i.test(o))e="i";else if(/Trident.(\d+\.\d+)/i.test(o))e="io";else if(/MSIE.(\d+\.\d+)/i.test(o))e="i";else if(/OPR.(\d+\.\d+)/i.test(o))e="o";else if(/Chrome.(\d+\.\d+)/i.test(o))e="c";else if(/Firefox.(\d+\.\d+)/i.test(o))e="f";else if(/Version.(\d+.\d+).{0,10}Safari/i.test(o))e="s";else if(/Safari.(\d+)/i.test(o))e="so";else if(/Opera.*Version.(\d+\.\d+)/i.test(o))e="o";else if(/Opera.(\d+\.?\d+)/i.test(o))e="o";else{if(!/Netscape.(\d+)/i.test(o))return{n:"x",v:0,t:n[e]};e="n"}return/windows.nt.5.0|windows.nt.4.0|windows.98|os x 10.4|os x 10.5|os x 10.3|os x 10.2/.test(o)&&(e="x"),"f"==e&&24==t&&(e="x"),/linux|x11|unix|bsd/.test(o)&&"o"==e&&t>12&&(e="x"),"x"==e?{n:"x",v:0,t:n[e]}:(t=new Number(RegExp.$1),"so"==e&&(t=100>t&&1||130>t&&1.2||320>t&&1.3||520>t&&2||524>t&&3||526>t&&3.2||4,e="s"),"i"==e&&7==t&&window.XDomainRequest&&(t=8),"io"==e&&(e="i",t=t>6?11:t>5?10:t>4?9:t>3.1?8:t>3?7:9),{n:e,v:t,t:n[e]+" "+t})},o.generateInfo=function(){var t=window.devicePixelRatio>1?2:1,o=document.createElement("div");n.options.div=o,o.id="update-browser",o.className="update-browser";var i='                    <div class="update-browser-box">                        <div class="update-browser-icon"><img src="/public/images/icons/'+t+'x/icon-update-browser.png" alt=""></div>                        <div class="update-browser-info"><p>\u9a6c\u4e0a\u5347\u7ea7\u60a8\u7684\u6d4f\u89c8\u5668\uff0c\u83b7\u5f97\u66f4\u6d41\u7545\u7684\u8bbf\u95ee\u4f53\u9a8c</p></div>                        <div class="update-browser-action"><a href="/demo/update-browser">\u514d\u8d39\u66f4\u65b0</a></div>                    </div>                    <div class="update-browser-close"><a id="update-browser-button-close" href="#">\u6b8b\u5fcd\u62d2\u7edd</a></div></div>';o.innerHTML=e.div||i;var s=document.createElement("style"),r=".update-browser {position: fixed;top: 0;left: 0;padding: 14px 0;width: 100%;display: table;background: #f4f4f4;box-shadow: 0 0 4px #000000;z-index: 9999;}.update-browser-box{margin: 0 auto;width: 600px;}.update-browser-box:before{content: ' ';display: table;}.update-browser-box:after{content: ' ';clear: both;display: table;}.update-browser-icon,.update-browser-info,.update-browser-action {display: inline-block;float: left;}.update-browser-icon img{width: 28px;vertical-align: middle;}.update-browser-info p{margin: 10px;display: block;font-size: 16px;color: #505050;}.update-browser-action a{padding: 10px 0;display: block;font-size: 16px;color: #2732c9;}.update-browser-close{position: absolute;top: 14px;right: 23px;}.update-browser-close a{display: block;text-decoration: none;font-size: 12px;color: #858689;}",a=e.style||r;document.body.insertBefore(o,document.body.firstChild),document.getElementsByTagName("head")[0].appendChild(s);try{s.innerText=a,s.innerHTML=a}catch(d){try{s.styleSheet.cssText=a}catch(d){return}}document.getElementById("update-browser-button-close").onclick=function(e){e.preventDefault(),n.options.div.style.display="none"}},o.appendInfo=function(){n.options.browser=o.getBrowser(),(n.options.test||n.options.browser&&n.options.browser.n&&"x"!=n.options.browser.n&&!(n.options.browser.v>n.options.version[n.options.browser.n]))&&o.generateInfo()},n.init=function(){o.init(),o.appendInfo()},n}};t.create=o.create}),define("MT.SPM/0.0.2/src/components/toggle-nav",[],function(e,t){var o={create:function(e,t){var o={},n=!1;return o.init=function(){e.click(function(){return n?t.fadeOut():t.fadeIn(),n=!n,!1})},o}};t.create=o.create}),define("MT.SPM/0.0.2/src/components/html5-player",[],function(e,t){var o={create:function(e,t,o,n){var i={},s={},e=e,t=t,o=o,r=n||{},a=t.attr("data-src");return i.init=function(){s.init()},i.resume=function(){s.resume()},s.init=function(){t.remove(),t.find("source").attr("src",a),e.prepend(t);var o="";o+='<div class="video-controls">',o+='<div class="controls-container">',o+='<div class="play">',o+=' <a class="button" id="play-pause"></a>',o+="</div>",o+='<div class="progress">',o+='<input type="range" id="seek-bar" class="seek-bar" value="0">',o+="</div>",o+='<div class="mute">',o+='<a class="button" id="mute"></a>',o+="</div>",o+='<div class="volume">',o+='<input type="range" id="volume-bar" class="volume-bar" min="0" max="1" step="0.1" value="1">',o+="</div>",o+='<div class="full-screen">',o+='<a class="button" id="full-screen"></a>',o+="</div>",o+="</div>",o+="</div>",e.append(o)},s.resume=function(){o.src=a,window.addEventListener("touchstart",function e(){o.play(),this.removeEventListener("touchstart",e)}),o.load(),s.updatePlayerStyle(),s.playerHandler()},s.updatePlayerStyle=function(){var t=e.find("video").width(),o=0;r.display.volumeControl||(e.find(".video-controls .mute").hide(),e.find(".video-controls .volume").hide()),r.display.volumeControl?(o=t-108-20,e.find(".progress").css({width:.6*o}),e.find(".volume").css({width:.35*o})):(o=t-72-12,e.find(".progress").css({width:.99*o}))},s.playerHandler=function(){function e(){console.log(d()+" Player.Playing")}function t(){console.log(d()+" Player.Pause")}function n(){console.log(d()+" Player.Play")}function i(){console.log(d()+" Player.timeUpdate");var e=100/o.duration*o.currentTime;p.value=e}function s(){console.log(d()+" Player.touchStart"),$(".live-controls").css({opacity:.9})}function a(){console.log(d()+" Player.touchEnd"),setTimeout(function(){$(".live-controls").css({opacity:0})},2e3)}function d(){return(new Date).getTime()}var l=document.getElementById("play-pause"),c=document.getElementById("mute"),u=document.getElementById("full-screen"),p=document.getElementById("seek-bar"),v=document.getElementById("volume-bar");l.addEventListener("click",function(){1==o.paused?(o.play(),l.style.backgroundImage="url(/public/images/player/player-pause.svg)"):(o.pause(),l.style.backgroundImage="url(/public/images/player/player-play.svg)")}),c.addEventListener("click",function(){0==o.muted?(o.muted=!0,c.style.backgroundImage="url(/public/images/player/player-mute.svg)"):(o.muted=!1,c.style.backgroundImage="url(/public/images/player/player-unmute.svg)")}),u.addEventListener("click",function(){o.requestFullscreen?o.requestFullscreen():o.mozRequestFullScreen?o.mozRequestFullScreen():o.webkitRequestFullscreen&&o.webkitRequestFullscreen()}),p.addEventListener("change",function(){function e(t){return o.seekable?(o.currentTime=t,!1):void setTimeout(function(){e(t)},500)}var t=o.duration*(p.value/100);r.control.progress&&(o.seekable?o.currentTime=t:e(t))}),v.addEventListener("change",function(){o.volume=v.value}),o.addEventListener("play",n,!1),o.addEventListener("pause",t,!1),o.addEventListener("playing",e,!1),o.addEventListener("timeupdate",i,!1),o.addEventListener("touchstart",s,!1),o.addEventListener("touchend",a,!1)},i}};t.create=o.create});